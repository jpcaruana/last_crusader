searchData={"content_type":"text/markdown","items":[{"doc":"IndieAuth authorization endpoint\n\n An authorization endpoint is an HTTP endpoint that micropub and IndieAuth clients can use to identify a user or obtain an authorization code (which is then later exchanged for an access token) to be able to post to their website.\n\nsee https://indieweb.org/authorization-endpoint","ref":"LastCrusader.Auth.AuthHandler.html","title":"LastCrusader.Auth.AuthHandler","type":"module"},{"doc":"authorization-endpoint. To start the sign-in flow, the user's browser will be redirected to their authorization endpoint, with additional parameters in the query string.","ref":"LastCrusader.Auth.AuthHandler.html#auth_endpoint/1","title":"LastCrusader.Auth.AuthHandler.auth_endpoint/1","type":"function"},{"doc":"- me:\n  Full URI of the user's homepage\n- client_id:\n  Full URI of the application's/website's home page. Used to identify the application. An authorization endpoint may show the application's icon and title to the user during the auth process.\n- redirect_uri:\n  Full URI to redirect back to when the login process is finished\n- state:\n  A random value the app makes up, unique per request. The authorization server just passes it back to the app.\n  Optional. Auth endpoints MUST support them, though.\n- response_type:\n  id (identification only) or code (identification + authorization)\n  Optional. Defaults to id.\n- scope:\n  Not used and omitted in identification mode (response_type=id)\n  For authorization, the scope contains a space-separated list of scopes that the web application requests permission for, e.g. \"create\". Multiple values are supported, e.g. create delete","ref":"LastCrusader.Auth.AuthHandler.html#auth_endpoint/1-parameters","title":"Parameters: - LastCrusader.Auth.AuthHandler.auth_endpoint/1","type":"function"},{"doc":"Auth code verification\n\nFor the sign-in flow, the web application will query the authorization endpoint to verify the auth code it received. The client makes a POST request to the authorization server with the following values:\n\n```\nPOST https://auth.example.org/auth\nContent-type: application/x-www-form-urlencoded\n\ncode=xxxxxxxx\n&redirect_uri=https://webapp.example.org/auth/callback\n&client_id=https://webapp.example.org/\n```\n\nAfter the authorization server verifies that redirect_uri, client_id match the code given, the response will include the \"me\" value indicating the URL of the user who signed in. The response content-type should be either application/x-www-form-urlencoded or application/json depending on the value of the HTTP Accept header.","ref":"LastCrusader.Auth.AuthHandler.html#code_verification/1","title":"LastCrusader.Auth.AuthHandler.code_verification/1","type":"function"},{"doc":"- me:\n  Full URI of the user's homepage\n  This may be different from the me parameter that the user originally entered, but MUST be on the same domain.","ref":"LastCrusader.Auth.AuthHandler.html#code_verification/1-parameters","title":"Parameters: - LastCrusader.Auth.AuthHandler.code_verification/1","type":"function"},{"doc":"Simple ETS-based cache.\n\n  https://gist.github.com/raorao/a4bb34726af2e3fa071adfa504505e1d","ref":"LastCrusader.Cache.MemoryTokenStore.html","title":"LastCrusader.Cache.MemoryTokenStore","type":"module"},{"doc":"Asynchronous call to cache a value at the provided key. Any key that can\n  be used with ETS can be used, and will be evaluated using `==`.","ref":"LastCrusader.Cache.MemoryTokenStore.html#cache/2","title":"LastCrusader.Cache.MemoryTokenStore.cache/2","type":"function"},{"doc":"Returns a specification to start this module under a supervisor.\n\nSee `Supervisor`.","ref":"LastCrusader.Cache.MemoryTokenStore.html#child_spec/1","title":"LastCrusader.Cache.MemoryTokenStore.child_spec/1","type":"function"},{"doc":"Asynchronous clears all values in the cache.","ref":"LastCrusader.Cache.MemoryTokenStore.html#clear/0","title":"LastCrusader.Cache.MemoryTokenStore.clear/0","type":"function"},{"doc":"","ref":"LastCrusader.Cache.MemoryTokenStore.html#init/1","title":"LastCrusader.Cache.MemoryTokenStore.init/1","type":"function"},{"doc":"Sychronously reads the cache for the provided key. If no value is found,\n  returns :not_found .","ref":"LastCrusader.Cache.MemoryTokenStore.html#read/1","title":"LastCrusader.Cache.MemoryTokenStore.read/1","type":"function"},{"doc":"Sychronously reads the cache for the provided key. If no value is found,\n  invokes default_fn and caches the result. Note: in order to prevent congestion\n  of the RequestCache process, default_fn is invoked in the context of the caller\n  process.","ref":"LastCrusader.Cache.MemoryTokenStore.html#read_or_cache_default/2","title":"LastCrusader.Cache.MemoryTokenStore.read_or_cache_default/2","type":"function"},{"doc":"Starts a RequestCache process linked to the current process. See\n  `GenServer.start_link/2` for details.\n\n  By default, every item in the cache lives for 6 hours.","ref":"LastCrusader.Cache.MemoryTokenStore.html#start_link/1","title":"LastCrusader.Cache.MemoryTokenStore.start_link/1","type":"function"},{"doc":"","ref":"LastCrusader.Cache.MemoryTokenStore.html#t:cache_key/0","title":"LastCrusader.Cache.MemoryTokenStore.cache_key/0","type":"type"},{"doc":"","ref":"LastCrusader.Cache.MemoryTokenStore.html#t:cache_value/0","title":"LastCrusader.Cache.MemoryTokenStore.cache_value/0","type":"type"},{"doc":"","ref":"LastCrusader.Cache.MemoryTokenStore.html#t:t/0","title":"LastCrusader.Cache.MemoryTokenStore.t/0","type":"type"},{"doc":"Handles the _logic_ of micro-publishing.\n\nSee also:\n- `LastCrusader.Micropub.Hugo`\n- `LastCrusader.Micropub.Github`","ref":"LastCrusader.Micropub.html","title":"LastCrusader.Micropub","type":"module"},{"doc":"Adds a keyword to a published post (most of the time, it will be the syndication link).","ref":"LastCrusader.Micropub.html#add_keyword_to_post/2","title":"LastCrusader.Micropub.add_keyword_to_post/2","type":"function"},{"doc":"Adds a comment to a post into Github repo.\nIt checks that the commented page exists in the Github repo (not on the real website).\n\nTo make it work in Hugo, you have to publish your content as\n[Pages Bundles](https://gohugo.io/content-management/page-bundles/).\nIn your post template, include the following partial:\n\n    {{ partial \"comments.html\" . }}\n\nThe Hugo partial (\"comments.html\") to display comments looks like this:\n\n    {{ $comments := (.Resources.Match \"comments/*yml\") }}\n\n    {{ range $comments }}\n     \n        \n    {{ $comment := (.Content | transform.Unmarshal) }}\n       {{ $comment.author }}  le {{ substr $comment.date 0 10 }} :\n      {{ $comment.comment | markdownify }}\n     \n    {{ end }}","ref":"LastCrusader.Micropub.html#comment/2","title":"LastCrusader.Micropub.comment/2","type":"function"},{"doc":"Publishes as Hugo post to Github repo:\n\n- checks auth code and scope\n- discovers post type\n- transforms it as a Hugo post\n- commits to Github repo\n- schedules sending webmentions if needed","ref":"LastCrusader.Micropub.html#publish/2","title":"LastCrusader.Micropub.publish/2","type":"function"},{"doc":"Posts content to github","ref":"LastCrusader.Micropub.GitHub.html","title":"LastCrusader.Micropub.GitHub","type":"module"},{"doc":"shortcut for `get_file/5`\n\nUses `Application.get_env/2` for default parameters.","ref":"LastCrusader.Micropub.GitHub.html#get_file/1","title":"LastCrusader.Micropub.GitHub.get_file/1","type":"function"},{"doc":"Gets file content from GitHub","ref":"LastCrusader.Micropub.GitHub.html#get_file/5","title":"LastCrusader.Micropub.GitHub.get_file/5","type":"function"},{"doc":"shortcut for `new_file/6`\n\nUses `Application.get_env/2` for default parameters.","ref":"LastCrusader.Micropub.GitHub.html#new_file/2","title":"LastCrusader.Micropub.GitHub.new_file/2","type":"function"},{"doc":"Creates a commit with the filecontent to GitHub","ref":"LastCrusader.Micropub.GitHub.html#new_file/6","title":"LastCrusader.Micropub.GitHub.new_file/6","type":"function"},{"doc":"shortcut for `update_file/6`\n\nUses `Application.get_env/2` for default parameters.","ref":"LastCrusader.Micropub.GitHub.html#update_file/2","title":"LastCrusader.Micropub.GitHub.update_file/2","type":"function"},{"doc":"Updates a file on GitHub","ref":"LastCrusader.Micropub.GitHub.html#update_file/6","title":"LastCrusader.Micropub.GitHub.update_file/6","type":"function"},{"doc":"Generates Hugo compatible data, file content, file name","ref":"LastCrusader.Micropub.Hugo.html","title":"LastCrusader.Micropub.Hugo","type":"module"},{"doc":"Renders the post date into Hugo's expected date format ([ISO 8601](https://en.wikipedia.org/wiki/ISO_8601))","ref":"LastCrusader.Micropub.Hugo.html#convert_date_to_hugo_format/1","title":"LastCrusader.Micropub.Hugo.convert_date_to_hugo_format/1","type":"function"},{"doc":"Generates TOML formatted front-matter","ref":"LastCrusader.Micropub.Hugo.html#generate_front_matter/3","title":"LastCrusader.Micropub.Hugo.generate_front_matter/3","type":"function"},{"doc":"Generates the complete filename (with path) for a Hugo website\n\n  Parameters:\n  - type: can be `:note` `:post` `:bookmark` `in_reply_to`\n  - name: for the file name\n  - date","ref":"LastCrusader.Micropub.Hugo.html#generate_path/3","title":"LastCrusader.Micropub.Hugo.generate_path/3","type":"function"},{"doc":"Create a new Hugo document","ref":"LastCrusader.Micropub.Hugo.html#new/3","title":"LastCrusader.Micropub.Hugo.new/3","type":"function"},{"doc":"Retrieves the local file path of a post from its published public URL","ref":"LastCrusader.Micropub.Hugo.html#reverse_url/2","title":"LastCrusader.Micropub.Hugo.reverse_url/2","type":"function"},{"doc":"Retrieves the local directory path of a post from its published public URL","ref":"LastCrusader.Micropub.Hugo.html#reverse_url_root/2","title":"LastCrusader.Micropub.Hugo.reverse_url_root/2","type":"function"},{"doc":"","ref":"LastCrusader.Micropub.Hugo.html#t:path/0","title":"LastCrusader.Micropub.Hugo.path/0","type":"type"},{"doc":"","ref":"LastCrusader.Micropub.Hugo.html#t:url/0","title":"LastCrusader.Micropub.Hugo.url/0","type":"type"},{"doc":"The Micropub protocol is used to create, update and delete posts on one's own domain using third-party clients.\n\nWeb apps and native apps (e.g., iPhone, Android) can use Micropub to post and edit articles, short notes, comments,\nlikes, photos, events or other kinds of posts on your own website.\n\ncf full specification: https://micropub.spec.indieweb.org/\n\nsee also `LastCrusader.Micropub.PostTypeDiscovery`.","ref":"LastCrusader.Micropub.MicropubHandler.html","title":"LastCrusader.Micropub.MicropubHandler","type":"module"},{"doc":"Handles comment posts from HTTP\n\nParameters:\n- `author` (mandatory): Name of the comment author (just one field, so we allow aliases)\n- `comment` (mandatory): Content of the comment. Can be in markdown format\n- `original_page` (mandatory): URL of the page to comment to\n- `link` (optional): Link to the personal page of the author","ref":"LastCrusader.Micropub.MicropubHandler.html#comment/1","title":"LastCrusader.Micropub.MicropubHandler.comment/1","type":"function"},{"doc":"","ref":"LastCrusader.Micropub.MicropubHandler.html#options_comment/1","title":"LastCrusader.Micropub.MicropubHandler.options_comment/1","type":"function"},{"doc":"Handles micropublish demands from HTTP\n\nSee micropublish specification: https://micropub.spec.indieweb.org/#create","ref":"LastCrusader.Micropub.MicropubHandler.html#publish/1","title":"LastCrusader.Micropub.MicropubHandler.publish/1","type":"function"},{"doc":"Handles query requests\n\nSee micropub query specification: https://micropub.spec.indieweb.org/#querying\n\nNote: we just reply to the `config`, `syndicate-to` and `category` requests","ref":"LastCrusader.Micropub.MicropubHandler.html#query/1","title":"LastCrusader.Micropub.MicropubHandler.query/1","type":"function"},{"doc":"Indieweb Post Type discovery implementation\n\n  see https://indieweb.org/post-type-discovery\n\n  Post Type Discovery specifies an algorithm for consuming code to determine the type of a post by its content properties and their values rather than an explicit “post type” property, thus better matched to modern post creation UIs that allow combining text, media, etc in a variety of ways without burdening users with any notion of what kind of post they are creating.\n\n  The Post Type Discovery algorithm (\"the algorithm\") discovers the type of a post given a data structure representing a post with a flat set of properties (e.g. Activity Streams (1.0 or 2.0) JSON, or JSON output from parsing [microformats2]), each with one or more values, by following these steps until reaching the first \"it is a(n) ... post\" statement at which point the \"...\" is the discovered post type.\n\n      1. If the post has an \"rsvp\" property with a valid value,\n      Then it is an RSVP post.\n      2. If the post has an \"in-reply-to\" property with a valid URL,\n      Then it is a reply post.\n      3. If the post has a \"repost-of\" property with a valid URL,\n      Then it is a repost (AKA \"share\") post.\n      4. If the post has a \"like-of\" property with a valid URL,\n      Then it is a like (AKA \"favorite\") post.\n      5. If the post has a \"video\" property with a valid URL,\n      Then it is a video post.\n      6. If the post has a \"photo\" property with a valid URL,\n      Then it is a photo post.\n      7. If the post has a \"content\" property with a non-empty value,\n      Then use its first non-empty value as the content\n      8. Else if the post has a \"summary\" property with a non-empty value,\n      Then use its first non-empty value as the content\n      9. Else it is a note post.\n      10. If the post has no \"name\" property\n        or has a \"name\" property with an empty string value (or no value)\n      Then it is a note post.\n      11. Take the first non-empty value of the \"name\" property\n      12. Trim all leading/trailing whitespace\n      13. Collapse all sequences of internal whitespace to a single space (0x20) character each\n      14. Do the same with the content\n      15. If this processed \"name\" property value is NOT a prefix of the processed content,\n      Then it is an article post.\n      16. It is a note post.\n\n  Quoted property names in the algorithm are defined in h-entry.","ref":"LastCrusader.Micropub.PostTypeDiscovery.html","title":"LastCrusader.Micropub.PostTypeDiscovery","type":"module"},{"doc":"Discover the post type according to the official algorithm. Can be:\n\n  - `:note`\n  - `:article`\n  - `:bookmark`\n  - `:rvsp`\n  - `:in_reply_to`\n  - `:like_of`\n  - `:video`\n  - `:photo`","ref":"LastCrusader.Micropub.PostTypeDiscovery.html#discover/1","title":"LastCrusader.Micropub.PostTypeDiscovery.discover/1","type":"function"},{"doc":"Determine whether the name property represents an explicit title.\n\nsee [one python implementation](https://github.com/kylewm/mf2util/blob/6e4c0dc904475b05381f618af9046e044a6c5f99/mf2util.py#L395)\nbecause the official algo explanation is not clear at all (to me). I took documentation (and unit tests) from it:\n\nTypically when parsing an h-entry, we check whether `p-name == e-content (value)`.\nIf they are non-equal, then p-name likely represents a title.\n\nHowever, occasionally we come across an h-entry that does not\nprovide an explicit p-name. In this case, the name is\nautomatically generated by converting the entire h-entry content\nto plain text. This definitely does not represent a title, and\nlooks very bad when displayed as such.\n\n\nTo handle this case, we broaden the equality check to see if\ncontent is a subset of name. We also strip out non-alphanumeric\ncharacters just to make the check a little more forgiving.","ref":"LastCrusader.Micropub.PostTypeDiscovery.html#is_name_a_title?/2","title":"LastCrusader.Micropub.PostTypeDiscovery.is_name_a_title?/2","type":"function"},{"doc":"","ref":"LastCrusader.Micropub.PostTypeDiscovery.html#t:post_type/0","title":"LastCrusader.Micropub.PostTypeDiscovery.post_type/0","type":"type"},{"doc":"Utils for easy HTTP manipulation","ref":"LastCrusader.Utils.Http.html","title":"LastCrusader.Utils.Http","type":"module"},{"doc":"Transforms a list of tuples into a Map","ref":"LastCrusader.Utils.Http.html#as_map/1","title":"LastCrusader.Utils.Http.as_map/1","type":"function"},{"doc":"Add key-value header(s) to HTTP response","ref":"LastCrusader.Utils.Http.html#put_headers/2","title":"LastCrusader.Utils.Http.put_headers/2","type":"function"},{"doc":"Indie Auth Identifier Validator\n\nsee spec https://indieauth.spec.indieweb.org/#user-profile-url","ref":"LastCrusader.Utils.IdentifierValidator.html","title":"LastCrusader.Utils.IdentifierValidator","type":"module"},{"doc":"Users are identified by a [URL]. Profile URLs MUST have either an https or http scheme, MUST contain a path component (/ is a valid path), MUST NOT contain single-dot or double-dot path segments, MAY contain a query string component, MUST NOT contain a fragment component, MUST NOT contain a username or password component, and MUST NOT contain a port. Additionally, hostnames MUST be domain names and MUST NOT be ipv4 or ipv6 addresses.\n\nSome examples of valid profile URLs are:\n\n    https://example.com/\n    https://example.com/username\n    https://example.com/users?id=100\n\nSome examples of invalid profile URLs are:\n\n    example.com - missing scheme\n    mailto:user@example.com - invalid scheme\n    https://example.com/foo/../bar - contains a double-dot path segment\n    https://example.com/#me - contains a fragment\n    https://user:pass@example.com/ - contains a username and password\n    https://example.com:8443/ - contains a port\n    https://172.28.92.51/ - host is an IP address","ref":"LastCrusader.Utils.IdentifierValidator.html#module-user-profile-url","title":"User Profile URL - LastCrusader.Utils.IdentifierValidator","type":"module"},{"doc":"Validates a user profile URL according to the IndieAuth spec","ref":"LastCrusader.Utils.IdentifierValidator.html#validate_user_profile_url/1","title":"LastCrusader.Utils.IdentifierValidator.validate_user_profile_url/1","type":"function"},{"doc":"Validates a user profile URL according to the IndieAuth spec\n\n  Useful in a validation pipe, but really relies on `validate_user_profile_url/1`","ref":"LastCrusader.Utils.IdentifierValidator.html#validate_user_profile_url/2","title":"LastCrusader.Utils.IdentifierValidator.validate_user_profile_url/2","type":"function"},{"doc":"","ref":"LastCrusader.Utils.IdentifierValidator.html#t:url/0","title":"LastCrusader.Utils.IdentifierValidator.url/0","type":"type"},{"doc":"Random string generator module.\n\nImported from https://gist.github.com/ahmadshah/8d978bbc550128cca12dd917a09ddfb7","ref":"LastCrusader.Utils.Randomizer.html","title":"LastCrusader.Utils.Randomizer","type":"module"},{"doc":"Generate random string based on the given length. It is also possible to generate certain type of randomise string\nusing the options below:\n\n* :all - generate alphanumeric random string\n* :alpha - generate nom-numeric random string\n* :numeric - generate numeric random string\n* :upcase - generate upper case non-numeric random string\n* :downcase - generate lower case non-numeric random string","ref":"LastCrusader.Utils.Randomizer.html#randomizer/2","title":"LastCrusader.Utils.Randomizer.randomizer/2","type":"function"},{"doc":"iex> Iurban.String.randomizer(20) //\"Je5QaLj982f0Meb0ZBSK\"","ref":"LastCrusader.Utils.Randomizer.html#randomizer/2-example","title":"Example - LastCrusader.Utils.Randomizer.randomizer/2","type":"function"},{"doc":"","ref":"LastCrusader.Utils.Randomizer.html#t:option/0","title":"LastCrusader.Utils.Randomizer.option/0","type":"type"},{"doc":"TOML strings manipulation","ref":"LastCrusader.Utils.Toml.html","title":"LastCrusader.Utils.Toml","type":"module"},{"doc":"Extracts Frontmatter and Content from a Post","ref":"LastCrusader.Utils.Toml.html#extract_frontmatter_and_content/1","title":"LastCrusader.Utils.Toml.extract_frontmatter_and_content/1","type":"function"},{"doc":"","ref":"LastCrusader.Utils.Toml.html#front_matter_to_map/1","title":"LastCrusader.Utils.Toml.front_matter_to_map/1","type":"function"},{"doc":"Transforms a Map representation of TOML into its String counterpart with included separators","ref":"LastCrusader.Utils.Toml.html#toml_map_to_string/1","title":"LastCrusader.Utils.Toml.toml_map_to_string/1","type":"function"},{"doc":"Updates a TOML formatted front-matter","ref":"LastCrusader.Utils.Toml.html#update_toml/2","title":"LastCrusader.Utils.Toml.update_toml/2","type":"function"},{"doc":"","ref":"LastCrusader.Utils.Toml.html#t:toml/0","title":"LastCrusader.Utils.Toml.toml/0","type":"type"},{"doc":"Schedules webmentions to be send\n\nIt first checks of the origin exists before sending webmentions. It will retry this check every minute until it reaches the configured number of tries.","ref":"LastCrusader.Webmentions.Sender.html","title":"LastCrusader.Webmentions.Sender","type":"module"},{"doc":"Finds syndication links (from bridy to twitter) in a list of Webmentions responses","ref":"LastCrusader.Webmentions.Sender.html#find_syndication_links/2","title":"LastCrusader.Webmentions.Sender.find_syndication_links/2","type":"function"},{"doc":"Schedules webmentions to be send with 1 minute wait between every try (default is 15 times)","ref":"LastCrusader.Webmentions.Sender.html#schedule_webmentions/2","title":"LastCrusader.Webmentions.Sender.schedule_webmentions/2","type":"function"},{"doc":"Sends Webmentions to every link","ref":"LastCrusader.Webmentions.Sender.html#send_webmentions/1","title":"LastCrusader.Webmentions.Sender.send_webmentions/1","type":"function"},{"doc":"","ref":"LastCrusader.Webmentions.Sender.html#t:url/0","title":"LastCrusader.Webmentions.Sender.url/0","type":"type"},{"doc":"# LastCrusader - Indieweb and the Last Crusade\n\nAn [Indieweb](https://indieweb.org/) server taylored mainly for _my_ needs, but I hope easily configurable for yours.\n\n- Your content is yours\n- You are better connected\n- You are in control\n\nRequires at least Elixir 12.0 with OTP 22.\n\nWorks fine with latest Elixir/OTP, including OTP 26.","ref":"readme.html","title":"LastCrusader - Indieweb and the Last Crusade","type":"extras"},{"doc":"- [ ] [IndieAuth](https://indieauth.com/) endpoint\n- [X] [Micropub](https://www.w3.org/TR/micropub/) endpoint\n  - [ ] [Webmentions](https://indieweb.org/Webmention):\n      - [X] send webmentions on new posts\n      - [ ] receive webmentions\n- [X] Comment API","ref":"readme.html#todo","title":"Todo - LastCrusader - Indieweb and the Last Crusade","type":"extras"},{"doc":"- run tests: `mix test`\n- run locally: `iex -S mix`\n- install git hooks locally: `mix git_hooks.install`\n- make a release: `MIX_ENV=prod mix release` or with personal secrets `MIX_ENV=perso mix release`\n- make a release that targets a debian: `./debian_release.sh` (uses docker)","ref":"readme.html#notes-to-self","title":"Notes to self - LastCrusader - Indieweb and the Last Crusade","type":"extras"},{"doc":"# Changelog","ref":"changelog.html","title":"Changelog","type":"extras"},{"doc":"#","ref":"changelog.html#0-10-x","title":"0.10.x - Changelog","type":"extras"},{"doc":"2023/10/17\n- unit tests: logger config for tests: always evaluate all logs to prevent bad formatted logs to crash production\n- refactor: do not use (long) deprecated `Mix.Config`\n- enable `Plug.RequestId` module\n- loggers: :console backend configuration is automatically maped to the default handler and default formatter\n- dependencies update:\n    - #165: [bump sentry from 8.1.0 to 9.1.0](https://github.com/jpcaruana/last_crusader/pull/165) and upgrade related config\n    - #164: [bump castore from 1.0.3 to 1.0.4](https://github.com/jpcaruana/last_crusader/pull/164)\n    - #158/##160/#168/#170: [bump hackney from 1.18.1 to 1.20.0](https://github.com/jpcaruana/last_crusader/pull/170)\n    - #162/#166: [bump plug from 1.14.2 to 1.15.1](https://github.com/jpcaruana/last_crusader/pull/162)\n\n#","ref":"changelog.html#0-10-4","title":"0.10.4 - Changelog","type":"extras"},{"doc":"2023/08/08\n- dependencie update: #152: [bump castore from 0.1.22 to 1.0.3](https://github.com/jpcaruana/last_crusader/pull/152)\n\n#","ref":"changelog.html#0-10-3","title":"0.10.3 - Changelog","type":"extras"},{"doc":"2023/08/07\n- webmention scheduling: use `Task.Supervisor.async_nolink/3` for a better async job handling\n- webmention: added more logs for more context\n- use Elixir's `Process.sleep/1` instead of erlang's `:timer.sleep`\n\n#","ref":"changelog.html#0-10-2","title":"0.10.2 - Changelog","type":"extras"},{"doc":"2023/08/07\n- [#149](https://github.com/jpcaruana/last_crusader/pull/149) upgrade broken Webmentions dependancy\n\t- webmentions 3.0.0 => 3.0.1\n\t- tesla 1.4.4 => 1.7.0\n\t- floki 0.34.2 => 0.34.3\n- dependencies update:\n    - #142: [bump sentry from 8.0.6 to 8.1.0](https://github.com/jpcaruana/last_crusader/pull/142)\n    - #139: [bump jason from 1.4.0 to 1.4.1](https://github.com/jpcaruana/last_crusader/pull/139)\n    - #133/#137: [bump tz from 0.24.0 to 0.26.2](https://github.com/jpcaruana/last_crusader/pull/137)\n    - #122#124/#134/#135/#136: [bump bandit from 0.6.9 to 0.7.7](https://github.com/jpcaruana/last_crusader/pull/136)\n    - #125: [bump plug from 1.14.0 to 1.14.1](https://github.com/jpcaruana/last_crusader/pull/125)\n    - #121: [bump mint from 1.5.0 to 1.5.1](https://github.com/jpcaruana/last_crusader/pull/121)\n\t\t- also manually bumped the following deps:\n\t\t\t- earmark_parser 1.4.30 => 1.4.31\n\t\t\t- floki 0.34.0 => 0.34.2\n\n#","ref":"changelog.html#0-10-1","title":"0.10.1 - Changelog","type":"extras"},{"doc":"2023/03/03: Bandit edition\n- [#119](https://github.com/jpcaruana/last_crusader/pull/119): webserver: move from [Cowboy](https://github.com/ninenines/cowboy) to [Bandit](https://github.com/mtrudel/bandit), based on [Thousand Island](https://github.com/mtrudel/thousand_island). Bandit is a pure Elixir HTTP server for Plug & WebSock applications \n- dependencies update:\n    - #117: [bump mint from 1.4.2 to 1.5.0](https://github.com/jpcaruana/last_crusader/pull/117)\n    - removed Cowboy deps","ref":"changelog.html#0-10-0","title":"0.10.0 - Changelog","type":"extras"},{"doc":"#","ref":"changelog.html#0-9-x","title":"0.9.x - Changelog","type":"extras"},{"doc":"2023/01/23\n- comment API: allow http OPTIONS requests\n- dependencies update:\n    - #108/#113/#116: [bump castore from 0.1.18 to 0.1.22](https://github.com/jpcaruana/last_crusader/pull/116)\n    - bump telemetry from 1.1.0 to 1.2.1\n\n#","ref":"changelog.html#0-9-11","title":"0.9.11 - Changelog","type":"extras"},{"doc":"2022/11/11\n- syndication links: dedicated silo keywords (like twitter, mastodon) to display syndication to several studios for one note/post\n\n#","ref":"changelog.html#0-9-10","title":"0.9.10 - Changelog","type":"extras"},{"doc":"2022/11/10\n- simplify webmention links detection: not done by hand, extracted from the published page\n\n#","ref":"changelog.html#0-9-9","title":"0.9.9 - Changelog","type":"extras"},{"doc":"2022/11/10\n- hugo: link extraction for webmentions: always include https://fed.brid.gy/\n- dependencies update:\n    - #106: [bump tz from 0.23.0 to 0.24.0](https://github.com/jpcaruana/last_crusader/pull/106)\n\n#","ref":"changelog.html#0-9-8","title":"0.9.8 - Changelog","type":"extras"},{"doc":"2022/11/09: 1st mastodon edition\n- hugo syndication:\n    - send webmentions for mastodon silo (should be a parameter)\n    - a post can syndicate to several silos (e.g. twitter _and_ mastodon)\n    - send webmentions for `like_of` posts\n- dependencies update:\n    - #105: [bump plug_cowboy from 2.5.2 to 2.6.0](https://github.com/jpcaruana/last_crusader/pull/105)\n    - #106: [bump tz from 0.22.0 to 0.23.0](https://github.com/jpcaruana/last_crusader/pull/106)\n    - floki 0.33.1 => 0.34.0\n\n#","ref":"changelog.html#0-9-7","title":"0.9.7 - Changelog","type":"extras"},{"doc":"2022/10/21\n- fix elixir 1.14: use `Application.compile_env/3` instead of `Application.get_env/3`\n- dependencies update:\n    - #100: [bump jason from 1.3.0 to 1.4.0](https://github.com/jpcaruana/last_crusader/pull/100)\n    - earmark_parser 1.4.28 => 1.4.29\n    - mime 2.0.2 => 2.0.3\n    - plug_crypto 1.2.2 => 1.2.3\n\n#","ref":"changelog.html#0-9-6","title":"0.9.6 - Changelog","type":"extras"},{"doc":"2022/09/02\n- Micropub: Hugo: accept `listen-of` notes\n- dependencies update:\n    - #96: [bump castore from 0.1.17 to 0.1.18](https://github.com/jpcaruana/last_crusader/pull/96)\n    - #98: [bump tz from 0.21.1 to 0.22.0](https://github.com/jpcaruana/last_crusader/pull/98)\n        - hpax: 0.1.1 -> 0.1.2\n\n#","ref":"changelog.html#0-9-5","title":"0.9.5 - Changelog","type":"extras"},{"doc":"2022/07/29\n- comments API:\n\t- accept JSON and url-formencoded requests\n\t- fix confusion in Map with atoms and string for keys / avoid getting atoms from the outside\n\n#","ref":"changelog.html#0-9-4","title":"0.9.4 - Changelog","type":"extras"},{"doc":"2022/07/28\n- dependencies update:\n    - bump earmark_parser from 1.4.25 to 1.4.26\n    - bump floki from 0.32.0 to 0.33.1 (minor)\n    - bump plug from 1.13.4 to 1.13.6\n    - bump telemetry from 1.0.0 to 1.1.0\n    - #92/#93: [bump tz from 0.20.1 to 0.21.1](https://github.com/jpcaruana/last_crusader/pull/92)\n    - #89: [bump mint from 1.4.1 to 1.4.2](https://github.com/jpcaruana/last_crusader/pull/89)\n    - #86: [bump castore from 0.1.16 to 0.1.17](https://github.com/jpcaruana/last_crusader/pull/86)\n\n#","ref":"changelog.html#0-9-1","title":"0.9.1 - Changelog","type":"extras"},{"doc":"2022/03/25: comment API edition\n- new comments API, see `LastCrusader.Micropub.MicropubHandler.comment/1`\n- dependencies update:\n    - #82: [bump castore from 0.1.15 to 0.1.16](https://github.com/jpcaruana/last_crusader/pull/82)","ref":"changelog.html#0-9-0","title":"0.9.0 - Changelog","type":"extras"},{"doc":"#","ref":"changelog.html#0-8-x","title":"0.8.x - Changelog","type":"extras"},{"doc":"2022/03/17\n- micropub: `q=category`: returns an ordered list of (weighted) tags from your website\n- log server port on application start\n- dependencies update:\n    - bump plug from 1.12.1 to 1.13.4\n    - bump makeup_elixir from 0.15.2 to 0.16.0\n    - bump earmark_parser from 1.4.20 to 1.4.23\n\n#","ref":"changelog.html#0-8-2","title":"0.8.2 - Changelog","type":"extras"},{"doc":"2022/03/10\n- micropub: `q=syndicate-to`: return syndication links\n- micropub: github: fix reverse URL guessing\n\n#","ref":"changelog.html#0-8-1","title":"0.8.1 - Changelog","type":"extras"},{"doc":"2022/03/09\n- micropub: Hugo: generate files as [Pages Bundles](https://gohugo.io/content-management/page-bundles/)\n    - as a preparation for welcoming comments in addition to webmentions\n- micropub: Hugo: remove randomness from filename generation (use EPOCH seconds)\n- dependencies update:\n    - #81: [bump nimble_parsec from 1.2.2 to 1.2.3](https://github.com/jpcaruana/last_crusader/pull/81)\n    - #79: [bump webmentions from 2.0.0 to 3.0.0](https://github.com/jpcaruana/last_crusader/pull/79)","ref":"changelog.html#0-8-0","title":"0.8.0 - Changelog","type":"extras"},{"doc":"#","ref":"changelog.html#0-7-x","title":"0.7.x - Changelog","type":"extras"},{"doc":"2022/02/25\n- micropub: Hugo: avoid markdown 'quote' char (`>`) for filename generation\n- dependencies update:\n    - #74: [bump mint from 1.4.0 to 1.4.1](https://github.com/jpcaruana/last_crusader/pull/74)\n        - added dep on hpax 0.1.1\n\n#","ref":"changelog.html#0-7-6","title":"0.7.6 - Changelog","type":"extras"},{"doc":"2022/02/15\n- micropub: Hugo: avoid hugo shortcode for twitter user for filename generation\n- dependencies update:\n    - #71: [bump hackney from 1.18.0 to 1.18.1](https://github.com/jpcaruana/last_crusader/pull/71)\n        - certify: 2.8.0 -> 2.9.0\n    - #72: [bump nimble_parsec from 1.2.1 to 1.2.2](https://github.com/jpcaruana/last_crusader/pull/72)\n\n#","ref":"changelog.html#0-7-5","title":"0.7.5 - Changelog","type":"extras"},{"doc":"2022/02/02\n- dependencies update:\n    - #69: [bump castore from 0.1.14 to 0.1.15](https://github.com/jpcaruana/last_crusader/pull/69)\n    - #67: [bump nimble_parsec from 1.2.0 to 1.2.1](https://github.com/jpcaruana/last_crusader/pull/67)\n\n#","ref":"changelog.html#0-7-4","title":"0.7.4 - Changelog","type":"extras"},{"doc":"2022/01/20\n- webapp: add `Plug.Cowboy.Drainer` for a cleaner shutdown\n- debug mode: webmention sender: more logs\n- dependencies update:\n    - #62: [bump webmentions from 1.0.3 to 2.0.0](https://github.com/jpcaruana/last_crusader/pull/62)\n        - floki: 0.31.0 -> 0.32.0\n\n#","ref":"changelog.html#0-7-3","title":"0.7.3 - Changelog","type":"extras"},{"doc":"2021/12/22\n- parse links from markdown: use [nimble parsec](https://hexdocs.pm/nimble_parsec/) instead of regex\n    - Note: it adds a new dependency to this (great) library\n- dependencies update:\n    - #59: [bump castore from 0.1.13 to 0.1.14](https://github.com/jpcaruana/last_crusader/pull/59)\n    - #60: [bump tesla from 1.4.3 to 1.4.4](https://github.com/jpcaruana/last_crusader/pull/60)\n        - mime: 1.6.0 -> 2.0.2\n    - #61: [bump jason from 1.2.2 to 1.3.0](https://github.com/jpcaruana/last_crusader/pull/61)\n\n#","ref":"changelog.html#0-7-2","title":"0.7.2 - Changelog","type":"extras"},{"doc":"2021/12/03\n- micropub: fix date conversion to Hugo (respect the timezone)\n    - removed compatibility with Elixir   2.8.0\n        - hackney: 1.17.4 -> 1.18.0\n\n#","ref":"changelog.html#0-7-1","title":"0.7.1 - Changelog","type":"extras"},{"doc":"2021/09/24\n- added [sentry](https://sentry.io/) monitoring\n- dependencies update:\n    - #40/#47: [bump tz from 0.19.0 to 0.20.1](https://github.com/jpcaruana/last_crusader/pull/47)\n    - #45: [bump mint from 1.3.0 to 1.4.0](https://github.com/jpcaruana/last_crusader/pull/45)\n    - #41: [bump webmentions from 1.0.2 to 1.0.3](https://github.com/jpcaruana/last_crusader/pull/41)\n    - #44: [bump plug_cowboy from 2.5.1 to 2.5.2](https://github.com/jpcaruana/last_crusader/pull/44)\n        - telemetry: 0.4.3 -> 1.1.0\n        - plug: 1.12.0 -> 1.12.1\n        - cowboy_telemetry: 0.3.1 -> 0.4.0","ref":"changelog.html#0-7-0","title":"0.7.0 - Changelog","type":"extras"},{"doc":"#","ref":"changelog.html#0-6-x","title":"0.6.x - Changelog","type":"extras"},{"doc":"2021/08/12\n- fix: `LastCrusader.Micropub.add_keyword_to_post/2`: one integration test was missing (and an error crept in). I learned how powerful json decoding was with Tesla...\n- dependencies update:\n    - remove unused dependency on toml\n    - remove unnecessary dependency on [Poison](https://github.com/devinus/poison) (we use [Jason](https://github.com/michalmuskala/jason) for json encoding/decoding from now on)\n    - #34: [bump plug_cowboy from 2.5.0 to 2.5.1](https://github.com/jpcaruana/last_crusader/pull/34)\n        - plug: 1.11.0 -> 1.12.0\n        - cowlib: 2.9.1 -> 2.11.0\n        - ranch: 1.7.1 -> 1.8.0\n    - #37: [bump tz from 0.17.0 to 0.19.0](https://github.com/jpcaruana/last_crusader/pull/37)\n    - #39: [bump tesla from 1.4.2 to 1.4.3](https://github.com/jpcaruana/last_crusader/pull/39)\n\n#","ref":"changelog.html#0-6-4","title":"0.6.4 - Changelog","type":"extras"},{"doc":"2021/07/21\n- investigation around automatic syndication: match `LastCrusader.Micropub.add_keyword_to_post/2` response\n- some refactor/duplication hunting\n\n#","ref":"changelog.html#0-6-1","title":"0.6.1 - Changelog","type":"extras"},{"doc":"2021/07/16: back syndication\n- update post after automatic syndication via [brid.gy](https://brid.gy/):\n    - find twitter syndication link in brid.gy's response\n    - github:\n      - retrieve a file's content\n      - update a file\n    - new `LastCrusader.Utils.Toml` module for light/easy Toml manipulation\n- dependencies update:\n    - #28: [bump webmentions from 1.0.1 to 1.0.2](https://github.com/jpcaruana/last_crusader/pull/28)\n        - floki: 0.30.1 -> 0.31.0\n    - #29: [bump tz from 0.16.2 to 0.17.0](https://github.com/jpcaruana/last_crusader/pull/29)\n    - #30: [bump tesla from 1.4.1 to 1.4.2](https://github.com/jpcaruana/last_crusader/pull/30)\n        - castore: 0.1.10 -> 0.1.11","ref":"changelog.html#0-6-0","title":"0.6.0 - Changelog","type":"extras"},{"doc":"#","ref":"changelog.html#0-5-x","title":"0.5.x - Changelog","type":"extras"},{"doc":"2021/06/22\n- dependencies update:\n    - #14: [bump plug_cowboy from 2.4.1 to 2.5.0](https://github.com/jpcaruana/last_crusader/pull/14)\n        - telemetry: 0.4.2 -> 0.4.3\n    - #18/#20: [bump webmentions from 0.5.3 to 1.0.1](https://github.com/jpcaruana/last_crusader/pull/20) (with contributions from me)\n    - #19/#21/#24: [bump tz from 0.12.0 to 0.16.2 ](https://github.com/jpcaruana/last_crusader/pull/24)\n    - #22: [bump mint from 1.2.1 to 1.3.0](https://github.com/jpcaruana/last_crusader/pull/22)\n- script to make a release that targets a debian: `./debian_release.sh` (uses docker)\n\n#","ref":"changelog.html#0-5-4","title":"0.5.4 - Changelog","type":"extras"},{"doc":"2021/04/16\n- micropub:\n    - Hugo: fix links extraction from Hugo posts\n    - Hugo: fix: treat `mp-syndicate-to` property as a `syndicate-to` one\n    - webmention: add automatic syndication to twitter.com (via [brid.gy](https://brid.gy/))\n    - better logs\n\n#","ref":"changelog.html#0-5-3","title":"0.5.3 - Changelog","type":"extras"},{"doc":"2021/04/16\n- micropub:\n    - Hugo: support `like-of` types as Notes\n    - Hugo: support `repost-of` types as Notes\n- webmention: check if origin exists every minute with a `HEAD` HTTP request. It will prevent us from waiting too long for the content to be published","ref":"changelog.html#0-5-0","title":"0.5.0 - Changelog","type":"extras"},{"doc":"#","ref":"changelog.html#0-4-x","title":"0.4.x - Changelog","type":"extras"},{"doc":"2021/04/14\n- micropub:\n    - Hugo: support `in-reply-to` types as Notes\n    - webmention: add [brid.gy](https://brid.gy/) webmention endpoint for:\n        - twitter.com\n        - github.com\n- dependencies update:\n    - #11: [bump tesla from 1.4.0 to 1.4.1](https://github.com/jpcaruana/last_crusader/pull/11)\n        - mime: 1.5.0 -> 1.6.0\n\n#","ref":"changelog.html#0-4-3","title":"0.4.3 - Changelog","type":"extras"},{"doc":"2021/04/06\n- drop support for Elixir < 1.11\n- better handling of proxied HTTPS requests (see [Plug.RewriteOn](https://hexdocs.pm/plug/Plug.RewriteOn.html))\n- CI: \n    - added doctor to check\n    - added credo to check\n- added as much Typespecs as possible\n- dependencies update:\n    - #10: [bump webmentions from 0.5.2 to 0.5.3](https://github.com/jpcaruana/last_crusader/pull/10)\n    - remove dependency to timex: drop support to Elixir < 1.11","ref":"changelog.html#0-4-0","title":"0.4.0 - Changelog","type":"extras"},{"doc":"#","ref":"changelog.html#0-3-x","title":"0.3.x - Changelog","type":"extras"},{"doc":"2021/03/04\n- micropub/webmention: Handles my personal special case with my \"indienews\" Hugo shortcode\n\n#","ref":"changelog.html#0-3-4","title":"0.3.4 - Changelog","type":"extras"},{"doc":"2021/03/02\n- micropub: fix Github integration\n- #5: dependencies: [bump timex from 3.6.3 to 3.6.4](https://github.com/jpcaruana/last_crusader/pull/5)\n    - tzdata: 1.0.5 -> 1.1.0\n\n\n#","ref":"changelog.html#0-3-3","title":"0.3.3 - Changelog","type":"extras"},{"doc":"2021/02/25\n- micropub: \n    - fix encoding issues from another weird long dash (see also release 0.2.2)\n    - extract links from bookmark posts for webmention\n- dependencies: remove unnecessary dependency to Tentacat\n\n#","ref":"changelog.html#0-3-2","title":"0.3.2 - Changelog","type":"extras"},{"doc":"2021/02/24\n- added /status route for remote monitoring\n- better logging configuration\n\n#","ref":"changelog.html#0-3-1","title":"0.3.1 - Changelog","type":"extras"},{"doc":"2021/02/24\n- micropub: send webmentions to mentionned URL in published content (waits for a publishing delay from Github/Netlify)","ref":"changelog.html#0-3-0","title":"0.3.0 - Changelog","type":"extras"},{"doc":"#","ref":"changelog.html#0-2-x","title":"0.2.x - Changelog","type":"extras"},{"doc":"2021/02/11\n- micropub: fix encoding issues from weird long dash\n- dependencies update:\n    - #3: [bump plug_cowboy from 2.3.0 to 2.4.1](https://github.com/jpcaruana/last_crusader/pull/3)\n        - cowboy_telemetry: 0.3.1\n\n#","ref":"changelog.html#0-2-2","title":"0.2.2 - Changelog","type":"extras"},{"doc":"2021/01/28\n- micropub: fix encoding issues from emojis\n\n#","ref":"changelog.html#0-2-1","title":"0.2.1 - Changelog","type":"extras"},{"doc":"2020/11/18\n- First \"production\" release (lol)","ref":"changelog.html#0-2-0","title":"0.2.0 - Changelog","type":"extras"},{"doc":"Please submit Issues or PR :)","ref":"contributing.html","title":"CONTRIBUTING","type":"extras"},{"doc":"MIT License\n\nCopyright (c) 2020 Jean-Philippe Caruana\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","ref":"license.html","title":"LICENSE","type":"extras"}]}